// === ุจุฏุงูุฉ ูุณู: ุชุตุฏูุฑ ุงููููู ===
import React, { useState } from 'react';
import { Plus, Minus, ChevronDown } from 'lucide-react';
import { useTranslation } from 'react-i18next';
// === ููุงูุฉ ูุณู: ุชุตุฏูุฑ ุงููููู ===

// === ุจุฏุงูุฉ ูุณู: ุงูุฃููุงุน ===
interface FAQ {
  id: number;
  question: string;
  answer: string;
}

interface FAQCategory {
  id: number;
  title: string;
  icon: string;
  faqs: FAQ[];
}
// === ููุงูุฉ ูุณู: ุงูุฃููุงุน ===

// === ุจุฏุงูุฉ ูุณู: ุงููููู ุงูุฑุฆูุณู ===
const FAQSection: React.FC = () => {
  const { t } = useTranslation();

  const [openCategory, setOpenCategory] = useState<number | null>(null);
  const [openFAQ, setOpenFAQ] = useState<number | null>(null);

  const toggleCategory = (id: number) => {
    setOpenCategory(openCategory === id ? null : id);
    if (openCategory !== id) setOpenFAQ(null);
  };

  const toggleFAQ = (id: number) => {
    setOpenFAQ(openFAQ === id ? null : id);
  };

  const faqCategories: FAQCategory[] = [
    {
      id: 1,
      title: 'ุงูุชุบุฐูุฉ ูุงูุนูุงูุฉ ุงูููููุฉ',
      icon: '๐พ',
      faqs: [
        {
          id: 1,
          question: 'ููู ุฃุฎุชุงุฑ ุงูุทุนุงู ุงูููุงุณุจ ููุทุชู ุฃู ููุจูุ',
          answer: 'ุงุฎุชุฑ ุงูุทุนุงู ููู ุงูุนูุฑ ูุงูุญุฌู ููุณุชูู ุงููุดุงุท ูุงูุญุณุงุณูุฉ. ุงุจุญุซ ุนู ุจุฑูุชููุงุช ุนุงููุฉ ุงูุฌูุฏุฉ ูููููุงุช ุทุจูุนูุฉุ ููู ุจุงูุชุจุฏูู ุชุฏุฑูุฌููุง ุฎูุงู 5โ7 ุฃูุงู ูุชุฌูุจ ุงุถุทุฑุงุจุงุช ุงููุถู.',
        },
        {
          id: 2,
          question: 'ูู ุงูุทุนุงู ุงูุฌุงู ุฃู ุงูุฑุทุจ ุฃูุถูุ',
          answer: 'ููุงููุง ุฌูุฏ ุจุญุณุจ ุงูุญุงูุฉุ ุงูุฌุงู ูุฏุนู ุตุญุฉ ุงููู ูุงูุชุญูู ุจุงูุณุนุฑุงุชุ ูุงูุฑุทุจ ูููุฑ ุชุฑุทูุจูุง ููููุฉ ุฃุบูู. ุงููุฒุฌ ุจููููุง ูููุญ ุชูุงุฒููุง ุฑุงุฆุนูุง.',
        },
        {
          id: 3,
          question: 'ููู ุฃุจุฏูู ููุน ุงูุทุนุงู ุจุฃูุงูุ',
          answer: 'ุงุจุฏุฃ ุจูุณุจุฉ 25% ูู ุงูุทุนุงู ุงูุฌุฏูุฏ ูุน 75% ูู ุงููุฏููุ ุซู ุฒุฏ ุงููุณุจุฉ ุชุฏุฑูุฌููุง ูููููุง ุญุชู ุชุตู ุฅูู 100% ุฎูุงู ุฃุณุจูุน ูุงูู.',
        },
      ],
    },
    {
      id: 2,
      title: 'ุงููุนุจ ูุงูุชุญููุฒ ุงูุฅุจุฏุงุนู',
      icon: '๐ฏ',
      faqs: [
        {
          id: 4,
          question: 'ููู ุฃุฎุชุงุฑ ูุนุจุฉ ุขููุฉ ูุฑูููู ุงูุฃูููุ',
          answer: 'ุงุฎุชุฑ ุฃูุนุงุจูุง ุจูุง ูุทุน ุตุบูุฑุฉ ุฃู ุฒูุงูุง ุญุงุฏุฉุ ูุตููุนุฉ ูู ููุงุฏ ุบูุฑ ุณุงูุฉ. ุฑุงูุจ ุฌูุณุงุช ุงููุนุจ ูุงุณุชุจุฏู ุงููุนุจุฉ ุนูุฏ ุธููุฑ ุนูุงูุงุช ุงูุชูู.',
        },
        {
          id: 5,
          question: 'ูู ูุฏุฉ ุงููุนุจ ุงูููุตู ุจูุง ูููููุงุ',
          answer: 'ูู 15 ุฅูู 30 ุฏูููุฉ ูู ุฌูุณุงุช ูุตูุฑุฉ ููุชูุฑุฑุฉ. ุบููุฑ ุงูุฃูุดุทุฉ ุจูู ุงููุทุงุฑุฏุฉุ ุงูุฌุฑูุ ูุงูุฃูุนุงุจ ุงูุฐููุฉ ูุชูุงุฏู ุงูููู.',
        },
        {
          id: 6,
          question: 'ูู ุงูุฃูุนุงุจ ุงูุชูุงุนููุฉ ูููุฏุฉุ',
          answer: 'ูุนูุ ููู ุชุญููุฒ ุงูุฐูุงุก ูุชุฎููู ุงูุชูุชุฑ ูุชุญุฏ ูู ุงูุณููููุงุช ุบูุฑ ุงููุฑุบูุจุฉ ุนุจุฑ ุชูุฌูู ุงูุทุงูุฉ ุจุดูู ุตุญู.',
        },
      ],
    },
    {
      id: 3,
      title: 'ุงููุธุงูุฉ ูุงูุฑุนุงูุฉ ุงูุตุญูุฉ',
      icon: '๐งผ',
      faqs: [
        {
          id: 7,
          question: 'ููู ุฃุนุชูู ุจูุฑุงุก ุงูุญููุงู ุงูุฃูููุ',
          answer: 'ุงููุดุท ุงูููุชุธู ุญุณุจ ููุน ุงููุฑุงุกุ ูุน ุดุงูุจู ูุทูู ููููููุงุช ุฃูููุบุง ูุนุฒูุฒุงู ุงูููุนุงู ููููููุงู ุงูุชุณุงูุท. ุฑุงูุจ ุฃู ุชุบููุฑ ุบูุฑ ุทุจูุนู ูุงุณุชุดุฑ ุงูุทุจูุจ ุนูุฏ ุงูุญุงุฌุฉ.',
        },
        {
          id: 8,
          question: 'ูุง ุฃูุถู ุฑูู ูุทุท ูููู ุฃุจุฏูููุ',
          answer: 'ุงุฎุชุฑ ุฑูููุง ูุชูุชููุง ููุฎูุถ ุงูุบุจุงุฑ ูุฑุงุญุฉ ุฃูุถู. ูุธูู ูููููุง ูุจุฏูู ุงูุฑูู ุจุงููุงูู ุฃุณุจูุนููุง ูุน ุชุนููู ุงูุญูุถ ูุถูุงู ุจูุฆุฉ ุตุญูุฉ.',
        },
        {
          id: 9,
          question: 'ูุชู ุฃุฒูุฑ ุงูุทุจูุจ ุงูุจูุทุฑูุ',
          answer: 'ุฃุฌุฑู ูุญุตูุง ุฏูุฑููุง ูุฑุชูู ุณููููุงุ ูุฑุงุฌุน ููุฑูุง ุนูุฏ ุชุบููุฑ ุงูุดููุฉ ุฃู ุฎููู ุดุฏูุฏ ุฃู ุธููุฑ ุฌุฑูุญ ุฃู ุชูููุฌ ุบูุฑ ูุนุชุงุฏ.',
        },
      ],
    },
    {
      id: 4,
      title: 'ุงูุฃุณูุงู ูุงูุฃุญูุงุถ',
      icon: '๐',
      faqs: [
        {
          id: 10,
          question: 'ููู ุฃุฎุชุงุฑ ุทุนุงููุง ููุงุณุจูุง ููุฃุณูุงูุ',
          answer: 'ูุนุชูุฏ ุนูู ุงูููุน ูุงูุญุฌู ููุณุชูู ุงูุณุจุงุญุฉ. ููุฃุญูุงุก ุงููุงุนูุฉ ุงุณุชุฎุฏู ุญุจูุจูุง ุบุงุฑูุฉุ ููุฃุณูุงู ุงูุณุทุญ ุงุณุชุฎุฏู ุฑูุงุฆู ุฃู ุนุตูู ุจุญุณุจ ุญุฌู ุงููู.',
        },
        {
          id: 11,
          question: 'ูู ุฃุญุชุงุฌ ููุงุชุฑ ููุนุงููุฌุงุช ูุงุกุ',
          answer: 'ูุนูุ ุงูููุชุฑ ูุญุงูุธ ุนูู ุงูุชูุงุฒู ุงูุจููููุฌู ูููููู ุงูุณููู. ุงุณุชุฎุฏู ูุนุงูุฌุงุช ูุฅุฒุงูุฉ ุงููููุฑ ูุงูููุชุฑูุช ูุจู ุฅุถุงูุฉ ุงูุฃุณูุงู ูุถูุงู ุจูุฆุฉ ุขููุฉ.',
        },
        {
          id: 12,
          question: 'ูู ูู ุฃุทุนู ุงูุฃุณูุงูุ',
          answer: 'ูุฑุชูู ูููููุง ุจูููุงุช ุตุบูุฑุฉ ุชูุณุชููู ุฎูุงู 2โ3 ุฏูุงุฆู ูููุน ุชูููุซ ุงููุงุก ูุงูุญูุงุธ ุนูู ุตูุงุฆู.',
        },
      ],
    },
    {
      id: 5,
      title: 'ุงููุงูุณุชุฑ ูุงูููุงุฑุถ',
      icon: '๐น',
      faqs: [
        {
          id: 13,
          question: 'ูุง ุฃุณุงุณูุงุช ุงูููุต ูุงููุฑุด ูููุงูุณุชุฑุ',
          answer: 'ุงุฎุชุฑ ููุตูุง ูุงุณุนูุง ุจุชูููุฉ ุฌูุฏุฉ ููุฑุดูุง ุทุจูุนููุง ุฎุงูููุง ูู ุงูุนุทูุฑ. ุฃุถู ุนุฌูุฉ ุขููุฉ ููุฎุงุจุฆ ูุชุนุฏุฏุฉ ููุถุบุงุช ุตุญูุฉ ูุชูุจูุฉ ุงุญุชูุงุฌุงุชู ุงูุทุจูุนูุฉ.',
        },
        {
          id: 14,
          question: 'ูู ุงูุฎุถุฑูุงุช ูุงูููุงูู ุขููุฉ ูููุงูุณุชุฑุ',
          answer: 'ุจููุณูุจ ุตุบูุฑุฉ ููุชูุงุฒูุฉุ ุชุฌููุจ ุงูุณูุฑูุงุช ุงูุนุงููุฉ ูุงูุฃุทุนูุฉ ุงูุฏูููุฉ. ุงุฌุนู ุงูุทุนุงู ุงููุงูู ุฃุณุงุณ ุงููุธุงู ุงูุบุฐุงุฆู ูุน ุชูุฏูู ููุงูุขุช ุจุญุฐุฑ.',
        },
        {
          id: 15,
          question: 'ููู ุฃุญููุฒ ุงููุงูุณุชุฑ ุจุดูู ูุจุฏุนุ',
          answer: 'ูููุฑ ูุณุงุฑุงุช ูุฃููุงู ูุฃูุนุงุจ ุจุญุซ ุนู ุงูุทุนุงู. ุจุฏูู ุชุฑุชูุจ ุงูููุต ุฏูุฑููุง ูุชุฌุฏูุฏ ุงูุจูุฆุฉ ูููุน ุงูููู.',
        },
      ],
    },
    {
      id: 6,
      title: 'ุงูุทูุจุงุช ูุงูุดุญู ูุงูุงุณุชุฑุฌุงุน',
      icon: '๐',
      faqs: [
        {
          id: 16,
          question: 'ูู ูุฏุฉ ุชูุตูู ุงูุทูุจุ',
          answer: 'ุฏุงุฎู ุงููุฏู ุงูุฑุฆูุณูุฉ 1โ3 ุฃูุงู ุนููุ ูุฎุงุฑุฌูุง 3โ7 ุฃูุงู. ุชุชุจููุน ุงูุดุญูุฉ ูุชุงุญ ูู ุญุณุงุจู ููุฑ ุงูุดุญู.',
        },
        {
          id: 17,
          question: 'ูู ูุชููุฑ ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงูุ',
          answer: 'ูุนู ูู ุจุนุถ ุงููุฏูุ ูุณุชุธูุฑ ูู ุงูุฎูุงุฑุงุช ุงููุชุงุญุฉ ุฃุซูุงุก ุฅููุงุก ุงูุฏูุน ูุน ุงูุฑุณูู ุฅู ูุฌุฏุช.',
        },
        {
          id: 18,
          question: 'ูุง ุณูุงุณุฉ ุงูุงุณุชุจุฏุงู ูุงูุงุณุชุฑุฌุงุนุ',
          answer: 'ููุจู ุงูุงุณุชุจุฏุงู/ุงูุงุณุชุฑุฌุงุน ุฎูุงู 7 ุฃูุงู ููููุชุฌุงุช ุบูุฑ ุงูููุชูุญุฉ ูุจุญุงูุชูุง ุงูุฃุตููุฉ ูุน ุงููุงุชูุฑุฉ. ุชูุงุตู ูุนูุง ูุชูุธูู ุงูุนูููุฉ ุจุณูููุฉ.',
        },
      ],
    },
  ];

  return (
    <section className="py-10 sm:py-12 bg-white" data-section="faq">
      <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        
        {/* === ุงูุนููุงู ุงูุฑุฆูุณู โ ุฃุณูุฏุ ูุน ููุณุฉ ุจูู ูู ุงูุฎุท === */}
        <div className="text-center mb-10 sm:mb-12">
          <h2 className="text-2xl sm:text-3xl font-extrabold text-[#0A2A55]">
            {t('home.faq.frequent_questions', { defaultValue: 'ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ' })}
          </h2>
          <div className="h-1 w-24 bg-[#e28437] rounded-full mx-auto mt-3"></div>
          <p className="text-gray-700 mt-4 max-w-3xl mx-auto leading-relaxed">
            {t('home.faq.subtitle', { 
              defaultValue: 'ุฏููู ุฑุงูู ูุนูุงูุฉ ูุจุฏุนุฉ ุจุฑูููู ุงูุฃููู โ ุชุบุฐูุฉุ ูุนุจุ ุตุญุฉ ูุดุญู' 
            })}
          </p>
        </div>

        {/* === ุงููุฆุงุช โ ูุธููุฉุ ุจุฏูู ุญุฑูุงุชุ ูุน ููู ุจูู ุฎููู ูู ุงูุฃุณุฆูุฉ ุงูููุชูุญุฉ ููุท === */}
        <div className="grid grid-cols-1 md:grid-cols-2 gap-5">
          {faqCategories.map((category) => (
            <div 
              key={category.id} 
              className="border border-gray-200 rounded-lg overflow-hidden shadow-sm"
            >
              {/* --- ุฑุฃุณ ุงููุฆุฉ --- */}
              <button
                onClick={() => toggleCategory(category.id)}
                className="w-full px-5 py-4 flex items-center justify-between bg-white text-left"
              >
                <div className="flex items-center gap-3">
                  <span className="text-xl">{category.icon}</span>
                  <h3 className="font-semibold text-[#0A2A55]">{category.title}</h3>
                </div>
                <ChevronDown
                  className={`w-5 h-5 text-gray-500 transition-transform ${
                    openCategory === category.id ? 'rotate-180 text-[#e28437]' : ''
                  }`}
                />
              </button>

              {/* --- ุงูุฃุณุฆูุฉ (ุฅู ูุงูุช ุงููุฆุฉ ููุชูุญุฉ) --- */}
              {openCategory === category.id && (
                <div className="border-t border-gray-100 bg-gray-50">
                  <div className="p-4 space-y-3">
                    {category.faqs.map((faq) => (
                      <div key={faq.id} className="border-b border-gray-100 last:border-0 pb-3 last:pb-0">
                        <button
                          onClick={() => toggleFAQ(faq.id)}
                          className="w-full flex justify-between items-start text-left"
                        >
                          <span className={`text-sm sm:text-base flex-1 pr-2 ${
                            openFAQ === faq.id ? 'font-semibold text-[#e28437]' : 'text-gray-800'
                          }`}>
                            {faq.question}
                          </span>
                          <div className="flex-shrink-0 ml-2">
                            {openFAQ === faq.id ? (
                              <Minus className="w-4 h-4 text-[#e28437]" />
                            ) : (
                              <Plus className="w-4 h-4 text-[#e28437]" />
                            )}
                          </div>
                        </button>

                        {openFAQ === faq.id && (
                          <div className="mt-2">
                            <p className="text-gray-700 text-sm leading-relaxed">
                              {faq.answer}
                            </p>
                          </div>
                        )}
                      </div>
                    ))}
                  </div>
                </div>
              )}
            </div>
          ))}
        </div>

      </div>
    </section>
  );
};
// === ููุงูุฉ ูุณู: ุงููููู ุงูุฑุฆูุณู ===

export default FAQSection;